
3.7 虚拟存储器
### 习题 
- 4【2010】下列命令组合的一次访存过程中，不可能发生的是
A TLB未命中，Cache未命中，Page未命中
B TLB未命中，Cache命中，Page命中
C TLB命中，Cache未命中，Page命中
D TLB命中，Cache命中，Page未命中→D
- 5 【2013】某计算机主存地址空间大小为256MB，按字节编址。虚拟地址空间大小为4GB，采用页式存储管理，页面大小为4KB，TLB（快表）采用全相联映射，有4个页表项，内容如下表所示
有效位  标记  页框号
0 FF180H 0002H
1 3FFF1H 0035H
0 02FF3H 0351H
1 03FFFH 0153H
则对虚拟地址03FF F180H进行虚实地址变换的结果是→0153180H
- 11【2015】假定编译器将赋值语句「x=x+3」转换为指令「add xaddr, 3」，其中xaddr是x对应的存储单元地址。若执行该指令的计算机采用页式虚拟存储管理方式，并配有相应的TLB，且Cache使用直写方式，则完成该指令功能需要访问主存的次数至少是→1次，直写需要同时把数据写入Cache和主存，所以是1次
- 12【2015】假定主存地址为32位，按字节编址，主存和Cache之间采用直接映射方式，主存块大小为4个字，每字32位，采用回写方式，则能存放4K字数据的Cache的总容量的位数至少是→148K
- 13【2019】下列关于缺页处理的叙述中，错误的是
A 缺页是在地址转换时CPU检测到的一种异常
B 缺页处理是由操作系统提供的缺页处理程序完成
C 缺页处理程序根据页故障地址从外存读入所缺失的页
D 缺页处理完成后回到发生缺页的指令的下一条指令执行→D
- 14【2020】下列关于TLB和Cache的叙述中，错误的是
A 命中率都与程序局部性有关
B 缺失后都需要去访问主存
C 缺失处理都可以由硬件实现
D 都由DRAM存储器组成→D，Cache由SRAM组成；TLB通常由相联存储器组成，也可由SRAM组成
- 综合题1【2011】某计算机存储器按字节编址，虚拟（逻辑）地址空间大小为16MB，主存（物理）地址空间大小为1MB，页面大小为4KB；Cache采用直接映射方式，共8行；主存与Cache之间交换的块大小为32B。系统运行到某一个时刻时，页表的部分内容和Cache的部分内容分别如下的左图和右图所示，图中页框号及标记字段的内容为十六进制形式
- 综合题5【2018】某计算机采用页式虚拟存储管理方式，按字节编址。CPU进行存储访问的过程如下图所示
① 主存物理地址占多少位
② TLB采用什么映射方式？TLB是用SRAM还是用DRAM实现
③ Cache采用什么映射方式？若Cache采用LRU替换算法和回写策略，则Cache每行除数据（Data）、Tag和有效位外，还应有哪些附加位？Cache总容量是多少？Cache总容量是多少？Cache中有效位的作用是什么？
④ 若CPU给出的虚拟地址为0008 C040H，则对应的物理地址是多少？是否在Cache中命中？说明理由。若CPU给出的虚拟地址为0007 C260H，则该地址所在的主存块映射到Cache组号是多少？