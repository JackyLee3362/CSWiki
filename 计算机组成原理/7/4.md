## 7.4 I/O方式
- 程序查询方式
    - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210526223411.png)
    - CPU和I/O串行工作，「踏步等待」
- 程序中断方式  
    - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210526224009.png)
    - 异常和中断
        - 异常
            - 故障
            - 自陷
            - 终止
        - 外部中断（看操作系统-运行环境-运行机制-中断和异常）
            - 「缺页」或「溢出」
    - 中断的基本概念
    - 程序中断方式工作流程
        - 中断请求
        - 中断判优
        - CPU响应中断的条件
        - 中断响应
            - 关中断
            - 保存断点
            - 引出中断服务程序
        - 中断向量
        - 中断处理过程
- DMA方式  直接存储器访问 Direct Memory Access  
    - DMA方式的特点
    - DMA控制器的组成
    - DMA的传送方式
    - DMA的传送过程
    - DMA方式和中断方式的区别
### 习题 
    - 1【2009】下列选项中，能引起外部中断的事件是
A 键盘输入
B 除数为0
C 浮点运算下溢
D 访存缺页→A
    - 2【2010】单级中断系统中，中断服务程序内的执行顺序是
① 保护现场
② 开中断
③ 关中断
④ 保存断点
⑤ 中断事件处理
⑥ 恢复现场
⑦ 中断返回→①⑤⑥②⑦
    - 3【2011】
    - 4【2011】
    - 5【2014】
    - 6【2012】
    - 9 以下说法，错误的是
A 中断服务程序一般是操作系统模块
B 中断向量方法可提高中断源的识别速度
C 中断向量地址是中断服务程序的入口地址
D 重叠处理中断的现象称为中断嵌套→C，^^中断向量^^是中断服务程序的入口地址，^^中断向量地址^^是存放中断向量的地址
    - 13
    - 15 中断响应由高到低的优先次序宜用
A 访管⇒程序性⇒机器故障
B 访管⇒程序性⇒重新启动
C 外部⇒访管⇒程序性
D 程序性⇒I/O⇒访管→B
    - 19 主存故障引起的中断是
A I/O中断
B 程序性中断
C 机器校验中断
D 外中断→C，主存故障引起的中断时机器校验中断，属于内中断；而外中断一般指主存和CPU外的中断，如外设引起的中断等
    - 20 在配有通道的计算机系统中，用户程序需要输入/输出时，引起的中断是
A 访管中断
B I/O中断
C 程序性中断
D 外中断→A，用户程序需要输入/输出时，需要调用操作系统提供的接口（请求操作系统服务），此时会引起访管中断，系统由用户态转为核心态
    - 27【2017】
    - 29 在各种I/O方式中，中断方式的特点是？DMA方式的特点是？
A CPU与外设串行工作，传送与主程序串行工作
B CPU与外设并行工作，传送与主程序串行工作
C CPU与外设串行工作，传送与主程序并行工作
D CPU与外设并行工作，传送与主程序并行工作
    - 30 在DMA传送方式中，由？发出DMA请求，在传送期间总线控制权由？掌握
A 外部设备，CPU
B DMA控制器、DMA控制器
C 外部设备，DMA控制器
D DMA控制器、内存→C
    - 32
    - 33 CPU响应DMA请求的条件是当前？执行完
A 机器周期
B 总线周期
C 机器周期和总线周期
D 指令周期→A
    - 34【2013】下列关于中断I/O方式和DMA方式的比较中，错误的是
A 中断I/O方式请求的是CPU处理时间，DMA方式请求的是总线使用权
B 中断响应发生在一条指令执行结束后，DMA响应发生在一个总线事务完成后
C 中断I/O方式下数据传送通过软件完成，DMA方式下数据传送由硬件完成
D 中断I/O方式适用所有外部设备，DMA方式仅适用于快速设备→D，看书P301
    - 36
    - 37 在主机和外设的信息传送中，？不是一种程序控制方式
A 直接程序传送
B 程序中断
C 直接存储器存取（DMA）
D 通道控制→C
    - 39
    - 41【2015】在采用中断I/O方式控制打印输出的情况下，CPU和打印控制接口中的I/O端口之间交换的信息不可能是
A 打印字符
B 主存地址
C 设备状态
D 控制命令→B
    - 42【2018】下列关于中断I/O的叙述中，错误的是
A 中断控制器按所接收中断请求的先后次序进行中断优先级排队
B CPU响应中断时，通过执行中断隐指令完成通用寄存器的保护
C CPU只有在处于中断允许状态时，才能响应外部设备的中断请求
D 有中断请求时，CPU立即暂停当前指令执行，转去执行中断服务程序
    - 43【2019】某设备以中断方式与CPU进行数据交换，CPU主频是1GHz，设备接口中的数据缓冲寄存器为32位，设备的数据传输率为50kB/s。若每次中断开销（包括中断响应和中断处理）为1000个时钟周期，则CPU用于该设备输入/输出的时间占整个CPU时间的百分比最多→答案：1.25%
    - 44【2019】
    - 45【2020】
    - 46【2020】
    - 47【2020】
    - 48【2020】
    - 综合题6【2012】
    - 综合题7【2016】
    - 综合题12【2018】书本p297→看书
