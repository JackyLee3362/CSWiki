## 2.2定点数的表示和计算 Fixed-point Number
- 定点数的表示
    - 有符号数和无符号数
    - 机器数的定点表示
        - 定点小数
        - 定点整数
    - 原码、补码、反码、移码
        - 原码表示法
            - 纯小数的原码
                - $$-(1-2^{-n})\le x \le1-2^{-n}$$
            - 纯整数的原码
                - 注意：真值零的原码有正零和负零两种形式$[+0]_原=0,0000; [-0]_原 = 1,0000$  
                - $$-2^{n}-1\le x \le 2^{n}-1$$
        - 补码表示法
            - 纯小数的补码
                - $$[+0.1001]_补=0.10010000$$
                - $$[-0.0110]_补=1.1010000$$
            - 纯整数的补码
                - $$[+1010]_补=0,0001010$$
            - 补码的算术移位
                - 变形补码，又称模4补码，双符号位的补码小数，模4补码，00表示正，11表示负
        - 反码表示法
            - 纯小数反码
            - 纯整数反码
            - 
        - 移码表示法
- 定点数的运算
    - 定点数的移位运算
        - 算术移位
            - 对于整数，原码补码反码移位都添0
            - 对于负数，原码移位添0，补码左移添0，右移添1，反码都添1
        - 逻辑移位
            - 将操作数视为无符号数，不管左移还是右移，都添0
        - 循环移位
            - 带进位标志位CF的循环移位（大循环）
            - 不带进位标志位的循环移位（小循环）
    - 原码定点数的加减法运算
    - 补码定点数加减法运算
        - $$[A+B]_补 = [A]_补 + [B]_补 (Mod\ M)\\\ [A-B]_补 = [A]_补 + [-B]_补 (Mod\  M)$$
        - A=15，B=24，机器字长为8位，计算[A+B]补，[A-B]补
    - 符号扩展
    - 溢出概念和判别方法
        - 采用一位符号位
        - 采用双符号位
        - 采用一位符号位根据数据位的进位情况判断溢出
    - 定点数的乘法运算
        - 原码一位乘法
        - 补码一位乘法（Booth算法）
    - 定点数的除法运算
        - 原码除法运算（不恢复余数法）
        - 补码除法运算（加减交替法）
- C语言中的整数类型及类型转换
    - 有符号数和无符号数的转换
    - ~溢出判断：对于有符号数，最高位进位和此高位进位不同则溢出
    - ~进位判断：对于无符号数，是否有进位或者借位
    - 不同字长整数之间的转换
- 数据的存储和排列
    - 数据的「大端方式」和「小端方式」存储
        - 假设我们想存储一个十六进制数：0x1234
        - 大端 big endian
            - ``` -- None -- 
数据：0x12 0x34
地址：小---->大
```​大端的存储方式与小端相对，符合人们的常有逻辑的，但不利于计算机系统处理数据的
        - 小端 little endian
            - ``` -- None -- 
数据：0x34 0x12
地址：小---->大
```
            - ​ 小端的存储方式是有利于计算机系统处理数据的，但不符合人们的常有逻辑的
    - 数据按「边界对齐」方式存储
### 习题
- 1【2009】一个C语言程序在一台32位机器上运行。程序中定义了三个变量x、y、z，其中x和z为int型，y为short型。当x=127、y=-9时，执行赋值语句z=x+y后，x、y、z的值分别是→x是0x0000 007f
y是0xfff7
y强制转换为0xffff fff7
z是0x0000 0076
- 2【2010】假定有4个整数用8位补码分别表示：R1=FEH，R2 = F2H，R3 = 90H，R4 = F8H，若将运算结果存放在一个8位寄存器中，则下列运算会发生溢出的是
A R1*R2
B R2*R3
C R1*R4
D R2*R4―B
- 3【2012】某计算机存储器按字节编址，采用小端方式存储数据。假定编译器规定Int型和short型长度分别为32位和16位，并且数据按边界对齐存储。某C语言程序段如下```c
struct{
int a;
char b;
short c;
}record;
record.a = 273;
```若record的变量的首地址为0xC008，则地址0xC008中的内容及record.c的地址分别是→0x11，0xC00E
- 4【2012】假定编译器规定Int型和short型长度分别为32位和16位，某C语言程序段如下```c
unsigned short x = 65530;
unsigned int y = x;
```得到的y的机器数是→0x0000 fffa
- 5【2016】某C语言程序段如下```c
short si = -32767;
unsigned short usi = si;
```得到的usi的值是→32769
- 45 【2013】某字长为8位的计算机中，已知整型变量x、y的机器数分别为[x]补 = 1 1110100，[y]补=1 0110000。若整型变量z = 2x+y/2，则z的机器数为→1 1000000，补码左移末尾添0，右移次高位添1
- 46【2014】若x = 103，y=-25，则下列表达式采用8位定点补码运算实现时，会发生溢出的是
A x+y
B -x+y
C x-y
D -x-y→C，8位定点表示补码时，范围是-128~127
- 55 【2015】由3个「1」和5个「0」组成的8位二进制补码，能表示的最小整数是―125
- 56 【2016】某计算机字长32位，按字节编址，采用小端方式存放数据。假定有一个double型变量，其机器数表示为 1122 3344 5566 7788H，存放在0000 8040H开始的连续存储单元中，则存储单元0000 8046H中存放的是→22H
- 57【2018】假定有符号整数采用补码表示，若int型变量x和y的机器数分别是FFFF FFDFH和0000 0041H，则x、y的值及x-y的机器数分别是→x=-33，y=65，x-y的机器数是0xffff ff9e
- 58【2018】
- 59【2018】
- 60【2019】
- 61【2020】在按字节编址，采用小端方式的32位计算机中，按边界对齐方式为以下C语言结构型变量a分配存储空间```c
struct record{
short x1;
short x2;
}a;
```若a的首地址为2020 FE00H，a的成员变量x2的机器数为1234 0000H，则其中34H所在存储单元的地址是→2020 FE06H
- 综合题2【2011】假定在一个8位字长的计算机中运行如下C程序段```c
unsigned int x = 134;
unsigned int y = 246;
int m = x;
int n = y;
unsigned int z1 = x - y;
unsigned int z2 = x + y;
int k1 = m - n;
int k2 = m + n;
```执行完上述程序段后，各变量的机器数是多少
答案→答案
x和m 1000 0110
y和n 1111 0110
z1和k1 1001 0000
z2和k2 0111 1100
- 综合题8【2020】
