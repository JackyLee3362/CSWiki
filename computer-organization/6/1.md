## 6.1 总线概述
- 总线基本概念
    - 总线的定义
    - 总线设备
        - 主设备
        - 从设备
    - 总线特性
    - 总线的猝发传输方式
- 总线的分类
    - 片内总线
        - 芯片内部的总线
        - 如CPU内部，寄存器与寄存器之间、寄存器与算术逻辑单元ALU之间都由片内总线连接
    - 系统总线
        - 数据总线 **双向** 与机器字长、存储字长有关
            - 若数据总线宽度为8位，指令字长为16位，则CPU取指阶段必须两次访问主存
        - 地址总线 **单向** 与存储地址、I/O地址有关
        - 控制总线 **有出有入**
            - 有出：存储器读、存储器写、总线允许、中断确认
            - 有入：中断请求、总线请求
        - 指计算机各部件之间的信息传输线
    - 通信总线
        - 用于 计算机系统之间 或 计算机系统与其他系统 之间的通信
        - 串行通信总线：使用一条传输线，采用脉冲传送
            - 优点：只需要一条传输线，成本比较低廉
            - 缺点：速度慢。
        - 并行传送：每一位数据需一条传输线，一般采用电位传送
            - 优点：短距离内，传输速度快
            - 缺点：成本高；距离短
- 系统总线的结构
    - 单总线结构
        - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210525133550.png)
    - 双总线结构
        - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210525133553.png)
        - 优点：将低速的I/O设备分离，避免CPU浪费
        - 缺点：需要增设通道等硬件设备
    - 三总线结构
        - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210525133555.png)
- 总线的性能指标
    - 总线宽度： 数据线的根数，用位表示
    - 总线带宽： 每秒传输的最大字节数（MBps），单位时间内总线上传输数据的位数
    - 总线的传输周期：一次总线操作所需的时间
    - 总线时钟周期：即机器的时钟周期
    - 总线的工作频率：总线上各种操作的频率，为总线周期的倒数
    - 总线的时钟频率：机器的时钟频率，为时钟周期的倒数
### 习题
    - 1 【2011】在系统总线的数据线上，不可能传输的是
A 指令
B 操作数
C 握手（应答）信号
D 中断类型号→C
    - 2 【2009】假设某系统总线在一个总线周期中并行传输4字节信息，一个总线周期占用2个时钟周期，总线时钟频率为10MHz，则总线带宽是?→20MB/s
    - 3 【2012】某同步总线的时钟频率为100MHz，宽度为32位，地址/数据线复用，每传输一个地址或数据占用一个时钟周期。若该总线支持突发（猝发）传输方式，则一次「主存写」总线事务传输128位数据所需要的时间至少是→50ns，传送地址10ns，传送数据40ns
    - 4 【2014】某同步总线采用数据线和地址线复用方式，其中地址/数据线有32根，总线时钟频率为66MHz，每个时钟周期传送两次数据（上升沿和下降沿各传送一次数据），该总线的最大数据传输率（总线带宽）是→528MB/s
    - 5 【2014】一次总线事务中，主设备只需给出一个首地址，从设备就能从首地址开始的若干连续单元读出或写入多个数据。这种总线事务方式称为
A 并行传输
B 串行传输
C 突发传输
D 同步传输→C
    - 21【2015】下列有关总线定时的叙述中，错误的是
A 异步通信方式中，全互锁协议最慢
B 异步通信方式中，非互锁的可靠性最差
C 同步通信方式中，同步时钟信号可由各设备提供
D 半同步通信方式中，握手信号的采样由同步时钟控制→C，同步通信方式中，系统采用一个统一的时钟信号
    - 22【2016】下列关于总线设计的叙述中，错误的是
A 并行总线传输比串行总线传输速度快
B 采用信号线复用技术可减少信号线数量
C 采用突发传输方式可提高总线数据传输率
D 采用分离事务通信方式可提高总线利用率→A
    - 23【2017】下列关于多总线结构的叙述中，错误的是
A 靠近CPU的总线速度较快
B 存储器总线可支持突发传送方式
C 总线之间须通过桥接器连接
D PCI-Express×16采用并行传输方式→D，采用串行数据包传输数据
    - 24【2018】下列选项中，可提高同步总线数据传输率的是
① 增加总线宽度
② 提高总线工作频率
③ 支持突发传输
④ 采用地址/数据线复用→①②③
    - 25【2019】假定一台计算机采用3通道存储器总线，配套的内存条型号为DDR3-1333，即内存条所接插的存储器总线的工作频率为1333MHz，总线宽度为64位，则存储器总线的总带宽大约是→32GB/s
    - 26【2020】QPI总线是一种点对点全工同步串行总线，总线上的设备可同时接收和发送信息，每个方向可同时传输20位信息（16位数据+4位校验位），每隔QPI数据包有80位信息，分2个时钟周期传送，每个时钟周期传送2次。因此，QPI总线带宽为：每秒传送次数×2B×2。若QPI时钟频率为2.4GHz，则总线带宽为→19.2GB/s
