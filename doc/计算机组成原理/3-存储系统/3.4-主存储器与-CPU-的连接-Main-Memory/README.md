# 3.4 主存储器与 CPU 的连接 Main Memory

- 连接原理
- 主存容量的扩展
  - 位扩展法
    - 目的：扩展位数
    - 连接方法
      - 将各存储芯片的地址线、片选线和读写控制线相应地并联起来
      - 各芯片的数据线单独列出
  - 字扩展法
    - 字扩展是指仅在 字数方向（存储单元个数或地址线）扩展，而位数不变
    - 连接方法
      - 将各存储芯片的将芯片的地址线、数据线、读写线并联
      - 由多出来的地址线作为片选信号来选中高低芯片
  - 字位同时扩展法
    - 先进行位扩展
    - 然后按组进行字扩展
- 存储芯片的地址分配和片选
  - 线选法
  - 译码片选法
- 存储器和 CPI 的连接
  - 合理选择存储芯片
  - 地址线的连接
  - 数据线的连接
  - 读/写命令线的连接
  - 片选线的连接

## 习题

- 1【2009】某计算机主存容量为 64KB，其中 ROM 区为 4KB，其余为 RAM 区，按字节编址。现要用 2K×8 位的 ROM 芯片和 4K×4 位的 RAM 芯片来设计该存储器，需要上述规格的 ROM 芯片数和 RAM 芯片数分别是 →2，15
- 2【2010】假定用若干 2K×4 位的芯片组成一个 8K×8 的存储器，则地址 0B1FH 所在芯片的最小地址是多少？答案 →0800H
- 3【2016】某存储器容量为 64KB，按字节编址，地址 4000H~5FFFH 为 ROM 区，其余为 RAM 区。若采用 8K×4 位的 SRAM 芯片进行设计，则需要该芯片的数量是 →14
- 4【2011】某计算机存储器按字节编址，主存地址空间大小为 64MB，现用 4Mx8 位的 RAM 芯片组成 32MB 的主存储器，则存储器地址寄存器 MAR 的位数至少是？?→26 位。主存按字节编址，地址空间大小为 64MB，则 MAR 的寻址范围是 $64M = 2^{26}$，实际的主存容量 32MB 不能代表 MAR 的位数，考虑到存储器扩展的需要，MAR 应保证能访问到整个主存地址空间，反过来，MAR 的位数决定了主存地址空间的大小
- 14 若片选地址为 111 时，选定某一 32Kx16 位的存储芯片工作，则该芯片在存储器中的首地址和末地址分别位？?→38000H，3FFFFH。32K×16 的存储芯片有地址线 15 根(片内地址)，片选地址为 3 位，故地址总位数为 18 位，现高 3 位为 111，则首地址为 111000000000000000=38000H，末地址为 1111111111111111=3FFFFH
- 16【2018】假定 DRAM 芯片中存储阵列的行数为 r，列数为 c，对于一个 2K×1 位的 DRAM 芯片，为保证其地址引脚数目最少，并尽量减少刷新开销，则 r、c 的取值分别是 →32 行 64 列
- 习题 5，6 未做
