## 5.2 指令执行过程
- 指令周期
    - CPU从主存中取出并执行一条指令的时间称为指令周期，不同指令的指令周期可能不同
    - CPU操作的基本单位是什么?→时钟周期（也称节拍或T周期）
    - 中断周期 p195
    - 完整的指令周期应该包括?→取址周期、间址周期、执行周期、中断周期
    - 四个触发器 FE IND EX INT
    - 注意：中断周期中的进栈操作是SP-1，和传统意义上的进栈操作相反，原因是计算机的堆栈中都是向低地址增加
- 指令周期的数据流
    - 取指周期
        - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210529145151.png)
            - 步骤 ↓ 
                - PC→MAR→地址总线→存储器
                - CU发出控制信号→控制总线→存储器
                - 存储器→数据总线→MDR→IR
                - CU发出读命令→PC内容+1
        - 
    - 间址周期
        - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210529153245.png)
            - 步骤 ↓ 
                - Ad(IR)（或MDR）→ MAR→地址总线→存储器
                - CU发出读命令→控制总线→存储器
                - 存储器→数据总线→MDR
    - 执行周期
        - 不同指令的执行周期数据流不同
    - 中断周期
        - 中断周期做了什么操作?→①保存断点，②形成中断服务程序的入口地址，③硬件关中断 
        - ![](https://gitee.com/jackylee3362/typora-pic/raw/master/img/20210529153608.png)
            - 步骤 ↓ 
                - CU控制将SP-1→MAR→地址总线→存储器
                - CU发出写命令→控制总线→存储器
                - PC→ MDR→数据总线→存储器（程序断点在PC中，要存入存储器）
                - CU（中断服务程序的入口地址）→PC
- 指令执行方案
    - 单指令周期
    - 多指令周期
    - 流水线方案
### 习题
    - 1 【2009】冯诺依曼计算机中指令和数据均以二进制形式存放在存储器中，CPU区分它们的依据是？→指令周期的不同阶段
    - 2 【2011】假定不采用Cache和指令预取技术，且机器处于「开中断」状态，则在下列有关指令执行的叙述中，判断正误
① 每个指令周期中CPU都至少访问内存一次
② 每个指令周期一定大于等于一个CPU的时钟周期
③ 空操作指令的指令周期中任何寄存器的内容都不会改变
④ 当前程序在每条指令执行结束时都可能被外部中断打断
答案→①②④正确，③错误空操作也会使PC的内容自动+1，时钟周期是CPU操作的基本单位
    - 4 采用DMA方式传递数据时，每传送一个数据就要占用？→存取周期
    - 6 指令（）从主存中读出
A 总是根据程序计数器
B 有时根据程序计数器，有时根据转移指令
C 根据地址寄存器
D 有时根据程序计数器，有时根据地址寄存器→A 总是根据程序计数器，执行转移指令后也需将目标指令地址传到程序计数器中
    - 10 指令周期由一个到几个机器周期组成，第一个机器周期是
A 从主存中取出指令字
B 从主存中取出指令操作码
C 从主存中取出指令地址码
D 从主存中取出指令的地址→A 从主存中取出指令字
    - 13「执行各条指令的机器周期数可变，各机器周期长度可变」合理吗→合理
