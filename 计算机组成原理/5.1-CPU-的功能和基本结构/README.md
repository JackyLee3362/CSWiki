## 5.1CPU的功能和基本结构
- CPU的功能
    - 指令控制
    - 操作控制
    - 时间控制
    - 数据加工
    - 中断处理
- CPU的基本结构
    - 运算器
        - 算术逻辑单元 ALU
        - 暂存寄存器
        - 累加寄存器 ACC
        - 通用寄存器组
        - 程序状态字寄存器
        - 移位器
        - 计数器 CT
        - 列举运算器的基本结构?→ALU， ACC， PSW， CT（计数器）
    - 控制器
        - 程序计数器  Program Counter
            - 程序计数器是计算机 处理器 中的寄存器 ，它包含当前正在执行的指令的地址（位置）
        - 指令寄存器 IR Instruction Register
            - 用来保存当前正在执行的一条指令
            - 用来存放当前的指令，其内容来自主存的MDR
        - 指令译码器
        - 存储器地址寄存器 MAR,  Memory Address Register
        - 存储器数据寄存器 MDR, Memory Data Register
        - 微操作信号发生器
        - 列举控制器的基本结构?→PC IR MAR MDR
### 习题
    - 思考：CPU内部寄存器大致可分为可见和不可见，举例说明→用户可见的寄存器：可对这类寄存器编程，如通用寄存器组、PSWR、
用户不可见的寄存器：对用户是透明的，不可对这类寄存器编程，如MAR、MDR、IR
    - 思考：①[x]补，求[-x]补② [x]补-[y]补=→①包括符号位，每位取反，末位+1
②[x]补-[y]补= [x]补 + [-y]补
    - 1【2010】MAR MDR PC和IR中，对汇编语言程序员可见的是→PC，汇编语言程序员通过指定待执行指令的地址来设置PC的值，如转移指令、子程序调用指令，而IR MAR MDR是CPU的内部工作寄存器，对程序员不可见
    - 10 「转移指令时，PC的值总是修改为转移指令的目标地址」→错误，还要判断转移是否成功，如果不成功则自增
    - 12 13 14 
① 程序计数器的位数取决于
② 指令寄存器的位数取决于
③ CPU中通用寄存器的位数取决于→① 存储器的容量：因为PC中存放的是指令在主存中的地址，所有程序计数器的位数与存储器地址的位数相等，而存储器地址取决于存储器的容量
② 指令寄存器中保存当前正在执行的指令，所以其位数取决于指令字长
③ 通用寄存器用于存放操作数和各种地址信息等，其位数与机器字长相等
    - 15 CPU中的通用寄存器
A 只能存放数据，不能存放地址
B 可以存放数据和地址
C 既不能存放数据，又不能存放地址
D 可以存放数据和地址，还可以代替指令寄存器→B
    - 21 以下关于计算机系统的概念中，正确的是
① CPU不包括地址译码器
② CPU的程序计数器中存放的是操作数地址
③ CPU中决定指令执行顺序的是程序计数器
④ CPU的状态寄存器对用户是完全透明的→①③
    - 23【2016】某计算机的主存空间为4GB，字长为32位，按字节编址，采用32位字长指令字格式。若指令按字边界对齐存放，则程序计数器（PC）和指令寄存器（IR）的位数至少是→30，32
程序计数器 存放地址 寻址范围 = $\frac{4GB}{32bit} = 1G = 2^{30}$，位数 = 30 ，PC每次定位一条指令，并且指令按边界对齐存放，因此无需定位到每个字节。只需定位字即可
指令寄存器 存放数据 位数= 32
    - 24【2018】 减法指令「sub R1, R2, R3」的功能为「(R1)-(R2)⇒(R3)」，该指令执行后将生成进位/错位标志CF和溢出标志OF，若(R1) = FFFF FFFFH，(R2) = FFFF FFF0H，
则该减法指令执行后，CF与OF分别为→CF = 0，OF = 0
如何判断进位和溢出呢？
直接运算，
CF：按照无符号数运算，如果有进位或借位则表示进位，CF =1
OF：按照有符号数运算，如果最高位进位状态和次高位进位状态不同则溢出，OF = 1
    - CPU中有哪些专用寄存器→PC IR MAR MDR PSW
