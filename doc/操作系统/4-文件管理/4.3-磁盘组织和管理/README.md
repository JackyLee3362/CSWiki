# 4.3 磁盘组织和管理

## 磁盘的结构

- 磁盘
- 磁头
- 磁道
- 扇区（通常为 512B）
- ~磁盘的类型
  - 固定头磁盘
  - 活动头磁盘
  - 固定盘磁盘
  - 可换盘磁盘

## 磁盘调度算法

- 寻找时间
  - $$T_s=m\times n+s$$
  - m 是磁盘驱动器速度有关的常数，约为 0.2ms，磁臂的启动时间约为 2ms
- 旋转延迟时间
  - $$T_r=\frac{1}{2r}$$
  - 典型的旋转速度为 5400 转/分，相当于一周 11.1ms，则 Tr 为 5.55ms；对于软盘，其旋转速度为 300-600 转/分，则 Tr=50-100ms
- 传输时间
  - $T_t=\frac{b}{rN}$
  - r 为磁盘每秒的转数，N 为一个磁道上的字节数
- 总平均存取时间
  - $T_a=T_s+\frac{1}{2r}+\frac{b}{rN}$
- 常用的磁盘调度算法
  - 先来先服务（First Come First Serve, FCFS）算法
  - 最短寻找时间优先（Shortest Seek Time First, SSTF）算法
    - 会产生饥饿现象
  - 扫描（SCAN）算法（又称电梯调度算法）
  - 循环扫描（Circular SCAN, C-SCAN）算法
    - C-LOOK 算法
- 磁盘的管理
  - 磁盘初始化
  - 引导块
  - 坏块 6

## 习题

- 3
- 5 磁盘上的文件以什么为单位读/写？→ 块
- 11
- 14【2009】
- 17【2015】
- 18【2017】下列选项中，磁盘逻辑格式化程序所做的工作是
  A. 对磁盘进行分区
  B. 建立文件系统的根目录
  C. 确定磁盘扇区校验码所占位数
  D. 对保存空闲磁盘块信息的数据结构进行初始化 →B.D.
- 19【2018】
- 20【2017】某文件系统的簇和磁盘扇区大小分别为 1KB 和 512B。若一个文件的大小为 1026B，则系统分配给该文件的磁盘空间大小为 →2KB
- 综合题 2【2010】
- 综合题 7【2019】
